(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{3472:function(A,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/concessions",function(){return t(8868)}])},8868:function(A,e,t){"use strict";t.r(e),t.d(e,{default:function(){return w}});var s=t(5893),i=t(7294),l=t(5675),a=t.n(l),n=t(1954),c=t(1025),r=t(384),o=t(4120);let d=A=>{let{src:e,fallbackSrc:t="/images/clapper.jpg",alt:l="",...n}=A,[c,r]=(0,i.useState)(),o=A=>{var s;(null==A?void 0:null===(s=A.currentTarget)||void 0===s?void 0:s.src)!==t&&(console.warn('Image with src = ["'.concat(e,'"],  could not load')),r(t))};return(0,s.jsx)(a(),{...n,src:c||e,alt:!c&&(null==l?void 0:l.trim().length)?l:"Unable to load image. Using site  logo as image instead",onError:A=>o(A),onLoadingComplete:A=>{A&&A.naturalWidth*A.naturalHeight!=0||r(t)},placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4QCLRXhpZgAATU0AKgAAAAgABgEPAAIAAAAIAAAAVgESAAMAAAABAAEAAAEaAAUAAAABAAAAXgEbAAUAAAABAAAAZgEoAAMAAAABAAIAAAExAAIAAAAVAAAAbgAAAABCZUZ1bmt5AAAAASwAAAABAAABLAAAAAFCZUZ1bmt5IFBob3RvIEVkaXRvcgD/4AAQSkZJRgABAQEBLAEsAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAQwAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMABAMDBAMDBAQDBAUEBAUGCgcGBgYGDQkKCAoPDRAQDw0PDhETGBQREhcSDg8VHBUXGRkbGxsQFB0fHRofGBobGv/bAEMBBAUFBgUGDAcHDBoRDxEaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGv/AABEIABQAFAMBIgACEQEDEQH/xAAXAAEBAQEAAAAAAAAAAAAAAAAAAwQC/8QAGBABAQEBAQAAAAAAAAAAAAAAAAIBITH/xAAXAQEBAQEAAAAAAAAAAAAAAAAABAEC/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAMAwEAAhEDEQA/AMMSvMuZleJQqYZPBbJ4DGacWgB0tngAP//Z"})};var x=t(8085);let g=A=>{let{item:e,quantity:t,increase:i,decrease:l}=A;return(0,s.jsxs)("div",{className:"flex flex-col items-center border-2 rounded-2xl border-primary-3 bg-[#1F2024] gap-[19px] px-5 py-4 min-w-[257px]",children:[(0,s.jsx)("span",{className:"relative w-[109px] h-[142px]",children:(0,s.jsx)(d,{src:e.imageUrl,alt:e.name,fallbackSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAAEcCAYAAAAsk7q7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALgSURBVHgB7dQBEQFRAEDB98/VMGNGAU2IICJNRCAI53r83RA7jqfzbbRcA6a09Xuuo3EZbfeASY3PEjA9EQAiAEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiABIBkAiARAAkAiARAIkASARAIgASAZAIgEQAJAIgEQCJAEgEQCIAEgGQCIBEACQCIBEAiQBIBEAiAHbr0nh86x0wpUO9/rMaC8PBMDz0AAAAAElFTkSuQmCC",fill:!0,className:"object-contain object-center"})}),(0,s.jsxs)("span",{className:"flex w-full justify-between gap-3 items-center tracking-wide text-xs font-extrabold text-[#ECECEC] capitalize",children:[e.name,(0,s.jsxs)("span",{className:"leading-[22px] text-xs px-[7px] py-[2px] text-white tracking-wide bg-primary-4 font-black rounded-[3px]",children:["N",new Intl.NumberFormat().format(e.price)]})]}),(0,s.jsx)(x.Z,{count:t,onIncrementClick:()=>i(e),onDecrementClick:()=>l(e),className:"bg-[#363636] py-2 px-[9px] w-full justify-between rounded-[9px]",IncrementButton:A=>{let{onClick:e,disable:t}=A;return(0,s.jsx)("button",{className:"bg-white grid place-items-center w-[40px] h-[35px] rounded-[5px] disabled:opacity-50",onClick:e,disabled:t,children:(0,s.jsx)(n.JO,{icon:"iconoir:plus",className:"text-lg text-[#1C1C1C]"})})},DecrementButton:A=>{let{onClick:e,disable:t}=A;return(0,s.jsx)("button",{className:"bg-white grid place-items-center w-[40px] h-[35px] rounded-[5px] disabled:opacity-50",onClick:e,disabled:t,children:(0,s.jsx)(n.JO,{icon:"iconoir:minus",className:"text-lg text-[#1C1C1C]"})})}})]})};var m=t(4093),E=t(1322),p=t(2173),B=t(4055);let I=A=>{let{items:e,fetching:t,decreaseItemPackage:l,decreaseItem:a,selectedItems:r,addItemPackage:o,addItem:d}=A,{width:x}=(0,c.dz)(),[I,h]=(0,i.useState)(0),[u,C]=(0,i.useState)(),[Q,f]=(0,i.useState)(),b=A=>{if("items"in A){let e=r.find(e=>e.itemId===A.id);e&&e.children&&(e.children.length>1?C(e):l(A.id,[{index:0,quantity:e.quantity-1}]))}else a(A);return!0},j=A=>("items"in A?f(A):d(A),!0),k=(0,i.useMemo)(()=>x>=1200?12:x>=992?9:x>=768?8:4,[x]),w=(0,i.useMemo)(()=>Math.ceil(e.length/k),[k,e]),N=()=>{0!==I&&h(I-1)},R=()=>{I+1<w&&h(I+1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"w-full px-[22px] lg:px-0",children:[(0,s.jsxs)("span",{className:"flex justify-between mb-7",children:[(0,s.jsx)(n.JO,{icon:"akar-icons:circle-chevron-left-fill",color:"#FFFFFF99",onClick:N,className:"text-[45px]"}),(0,s.jsx)(n.JO,{icon:"akar-icons:circle-chevron-right-fill",color:"#FFFFFF99",onClick:R,className:"text-[45px]"})]}),t?(0,s.jsx)("div",{className:"w-full h-[45vh] grid place-content-center",children:(0,s.jsx)(B.Z,{color:"#2e3fd9"})}):null,!t&&e.length?(0,s.jsx)("div",{className:"flex flex-col md:flex-row flex-wrap justify-center items-center gap-x-[30px] gap-y-5",children:e.slice(I*k,I*k+k).map(A=>{var e;return(0,s.jsx)(g,{quantity:(null===(e=r.find(e=>e.itemId===A.id))||void 0===e?void 0:e.quantity)||0,increase:j,decrease:b,item:A},A.id)})}):null]}),(0,s.jsxs)(p.Z,{visible:!!u||!!Q,children:[Q?(0,s.jsx)(m.Z,{items:(null==Q?void 0:Q.items)||[],parentItems:(null==Q?void 0:Q.parentItems)||[],cancel:()=>f(void 0),submit:(A,e)=>{o(Q,A,e),f(void 0)}}):null,u?(0,s.jsx)(E.Z,{selections:u.children||[],cancel:()=>C(void 0),submit:A=>{l((null==u?void 0:u.itemId)||"",A),C(void 0)}},u.itemId):null]})]})};var h=t(3967),u=t.n(h);let C=A=>{let{items:e,className:t,onSubmit:l}=A,a=(0,i.useMemo)(()=>e.map(A=>A.amount).reduce((A,e)=>A+e,0),[e]);return(0,s.jsxs)("aside",{className:u()("rounded-xl border-2 border-[#436FBD] bg-[#1F2024] overflow-hidden",t),children:[(0,s.jsxs)("header",{className:"flex justify-between items-end bg-[#292934CC] py-[26px] pl-[15px] pr-[21px]",children:[(0,s.jsxs)("span",{className:"font-semibold text-lg flex items-center gap-[9px]",children:[(0,s.jsx)(n.JO,{icon:"uil:cart",className:"text-2xl"})," Cart"]}),(0,s.jsxs)("span",{className:"text-[#FFFFFFB2]",children:["(",e.length,")"]})]}),(0,s.jsx)("section",{className:"min-h-[300px] max-h-[450px] overflow-y-auto xl:min-h-[250px] xl:max-h-[600px] flex flex-col px-4 pt-[5px]",children:e.length?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"leading-[40px] font-black py-[5px] border-b border-[#757575] mb-[5px]",children:"Food & Drinks"}),e.map((A,e)=>(0,s.jsxs)("div",{className:"my-4",children:[(0,s.jsxs)("span",{className:"grid grid-cols-3 gap-x-3",children:[(0,s.jsxs)("p",{className:"col-span-2 font-semibold capitalize tracking-wide",children:[(0,s.jsxs)("span",{className:"font-black",children:[A.quantity,"x"]})," ",A.name]}),(0,s.jsxs)("p",{className:"text-end font-bold capitalize tracking-wide",children:["N",new Intl.NumberFormat().format(A.amount)]})]}),A.children?(0,s.jsx)(s.Fragment,{children:A.children[0].selection.items.map((A,e)=>(0,s.jsxs)("span",{className:"block text-xs font-light tracking-wide mb-1.5 capitalize",children:[A.itemParentId?A.itemParentName:A.name,"  ",(0,s.jsxs)("span",{className:"font-bold lowercase",children:["x",A.quantity]})]},A.itemId+"selection"+e))}):null]},A.itemId+"cart"+e))]}):(0,s.jsx)("span",{className:"bg-[#292934] w-[75%] mx-auto text-xs font-bold rounded-lg mt-[26px] text-center py-6 text-[#FFFFFFCC]",children:"Your cart is empty"})}),(0,s.jsxs)("section",{className:"bg-[#292934CC] px-5 py-[18px] flex flex-col gap-2",children:[(0,s.jsxs)("p",{className:"flex items-center gap-3 font-bold text-sm",children:["Total:"," ",(0,s.jsxs)("span",{className:"font-extrabold text-lg",children:["â‚¦",new Intl.NumberFormat().format(a)]})]}),(0,s.jsx)("button",{className:"bg-gradient-to-r from-[#5081D7] to-[#1A3769] rounded-xl py-3.5 font-extrabold text-[#D6D6D6]",onClick:l,disabled:0===e.length,children:"Pay Now"})]})]})};var Q=t(3980),f=t(1852),b=t.n(f),j=t(1163),k=t(514);function w(){let{push:A,query:e}=(0,j.useRouter)(),{loading:t,request:l,data:d}=(0,c.h_)(r.c),{selectedItems:x,addItem:g,addPackageItem:m,removePackageItem:E,removeItem:B,loadCart:h}=(0,Q.j)(),[u,f]=(0,i.useState)(!1),{removeItem:w,getItem:N}=(0,c.y$)();(0,i.useEffect)(()=>{let A=o.$B.source();return l(A),()=>A.cancel()},[]),(0,i.useEffect)(()=>{if(e.stale){let A=N(k.Bc);if(A&&""!==A)try{let e=JSON.parse(A);h(e.tickets||[],e.items||[])}catch(A){console.error(A)}}else w(k.Bc)},[e]);let R=()=>{sessionStorage.setItem(k.Bc,JSON.stringify({tickets:[],items:x})),setTimeout(()=>{A("/concessions/confirm")},700)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("section",{className:"mt-36",children:[(0,s.jsxs)("div",{className:"!w-[85%] mx-auto container flex flex-col md:flex-row gap-x-6",children:[(0,s.jsxs)("div",{className:"text-white flex flex-col",children:[(0,s.jsx)("h3",{className:"font-avenger text-xl leading-9 tracking-wider lg:text-3xl lg:leading-[50px]",children:"Fuel up for the film with our tasty snack and drinks specials!"}),(0,s.jsx)("p",{className:"text-xs tracking-wider leading-5 max-w-[651px] lg:text-2xl lg:leading-[30px]",children:"From savory popcorn to refreshing sodas, we got all the munchies you could ever need."}),(0,s.jsx)("div",{className:"relative w-full h-[307px] mt-5 lg:hidden",children:(0,s.jsx)(a(),{src:"/img/popcorn.png",alt:"Popcorn",fill:!0,className:"object-contain"})}),(0,s.jsx)("button",{className:"bg-gradient-to-r from-[#5081D7] to-[#1A3769] py-3.5 px-10 rounded-lg mt-9 w-fit text-sm md:text-base",children:"See Showtimes"})]}),(0,s.jsx)("div",{className:"hidden relative w-full h-[397px] mt-5 basis-2/3 lg:block",children:(0,s.jsx)(a(),{src:"/img/popcorn.png",alt:"Popcorn",fill:!0,className:"object-contain"})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center w-full lg:w-fit mt-16 px-[43px] mb-10",children:[(0,s.jsx)("h4",{className:"font-display text-2xl mr-3",children:"Add Food & Drinks"}),(0,s.jsxs)("span",{className:"w-fit relative",onClick:()=>f(!u),children:[(0,s.jsx)(n.JO,{icon:"uil:cart",className:"text-4xl"}),(0,s.jsx)("span",{className:"lg:hidden absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-primary-4 border-2 border-white rounded-full -top-2 -right-2 dark:border-gray-900",children:x.length})]})]}),(0,s.jsxs)("div",{className:"flex lg:w-[90%] mx-auto justify-center items-start lg:gap-[40px] xl:gap-[73px]",children:[(0,s.jsx)(I,{fetching:t,items:d?[...d.items,...d.itemPackages]:[],decreaseItemPackage:E,addItemPackage:m,addItem:A=>g(A,1),selectedItems:x,decreaseItem:A=>B(A,1)}),(0,s.jsx)(C,{items:x,className:"hidden lg:block lg:min-w-[270px] xl:min-w-[350px]",onSubmit:R})]})]}),(0,s.jsx)(b(),{maxWidth:1023,children:(0,s.jsx)(p.Z,{visible:u,showClose:!0,onClose:()=>f(!1),children:(0,s.jsx)(C,{items:x,className:"min-w-[350px]",onSubmit:R})})})]})}}},function(A){A.O(0,[662,120,200,234,774,888,179],function(){return A(A.s=3472)}),_N_E=A.O()}]);